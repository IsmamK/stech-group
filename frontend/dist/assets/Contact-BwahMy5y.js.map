{"version":3,"file":"Contact-BwahMy5y.js","sources":["../../src/pages/Contact.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport BannerV2 from '../components/about_components/Banner2';\nimport ContactUs from './ContactUs';\n\nfunction Contact() {\n  const [pageData, setPageData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [countries, setCountries] = useState([]);\n  const [fullName, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [country, setCountry] = useState(\"1\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    // Fetch page data\n    const fetchPageData = async () => {\n      try {\n        const res = await fetch(`${import.meta.env.VITE_API_URL}/contact/contact1/`);\n        if (!res.ok) {\n          throw new Error('Failed to fetch page data');\n        }\n        const data = await res.json();\n        setPageData(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Fetch countries\n    const fetchCountries = async () => {\n      try {\n        const res = await fetch(\"api/country\");\n        if (!res.ok) {\n          throw new Error('Failed to fetch countries');\n        }\n        const data = await res.json();\n        setCountries(data);\n      } catch (err) {\n        console.error(\"Error fetching countries:\", err);\n      }\n    };\n\n    fetchPageData();\n    fetchCountries();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\"api/contact-us\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          full_name: fullName,\n          email: email,\n          phone: phone,\n          country: country,\n          description: description,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to submit form');\n      }\n      \n      const data = await response.json();\n      setFullName(\"\");\n      setEmail(\"\");\n      setPhone(\"\");\n      setCountry(\"1\");\n      setDescription(\"\");\n      \n      alert(\"Thank you for contacting us. We will get back to you soon.\");\n    } catch (err) {\n      alert(\"There was an error submitting your form. Please try again.\");\n      console.error(err);\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n  if (!pageData) return <div>No data found</div>;\n\n  return (\n    <>\n      <BannerV2 title={pageData.title} text={pageData.text} home />\n      \n      <section className=\"contacts\">\n        <div className=\"container\">\n          <div className=\"row g-0\">\n            <div className=\"col-lg-8 col-12 mx-lg-auto p-0\">\n              <form onSubmit={handleSubmit} className=\"contactform px-2 px-lg-0\">\n                <div className=\"row g-4\">\n                  <div className=\"col-lg-6 col-12\">\n                    <div className=\"inputbox\">\n                      <label htmlFor=\"name\" className=\"form-label\">\n                        Enter Full Name\n                      </label>\n                      <input\n                        value={fullName}\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"name\"\n                        onChange={(e) => setFullName(e.target.value)}\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"col-lg-6 col-12\">\n                    <div className=\"inputbox\">\n                      <label htmlFor=\"email\" className=\"form-label\">\n                        Enter Email Address\n                      </label>\n                      <input\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        type=\"email\"\n                        className=\"form-control\"\n                        id=\"email\"\n                        required\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"row g-4\">\n                  <div className=\"col-lg-6 col-12\">\n                    <div className=\"inputbox\">\n                      <label htmlFor=\"phone\" className=\"form-label\">\n                        Enter Phone Number\n                      </label>\n                      <input\n                        value={phone}\n                        onChange={(e) => setPhone(e.target.value)}\n                        type=\"tel\"\n                        className=\"form-control\"\n                        id=\"phone\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"col-lg-6 col-12\">\n                    <div className=\"inputbox\">\n                      <label htmlFor=\"country\" className=\"form-label\">\n                        Select Your Country\n                      </label>\n                      <select\n                        value={country}\n                        onChange={(e) => setCountry(e.target.value)}\n                        className=\"form-select\"\n                        id=\"country\"\n                        required\n                      >\n                        {countries.map((country) => (\n                          <option key={country.id} value={country.id}>\n                            {country.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"row g-4\">\n                  <div className=\"col-12\">\n                    <div className=\"inputbox\">\n                      <label htmlFor=\"projectdetails\" className=\"form-label\">\n                        Project Details\n                      </label>\n                      <textarea\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        className=\"textarea\"\n                        id=\"projectdetails\"\n                        rows={7}\n                        required\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"row g-4\">\n                  <div className=\"col-12\">\n                    <div className=\"d-flex justify-content-end w-100\">\n                      <button className=\"btn-submit\" type=\"submit\">\n                        Contact Us\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {pageData.sections && pageData.sections.map((section) => {\n        if (section.slug === \"contact-us\") {\n          return <ContactUs key={section.id} data={section} />;\n        }\n        return null;\n      })}\n    </>\n  );\n}\n\nexport default Contact;"],"names":["Contact","pageData","setPageData","useState","loading","setLoading","error","setError","countries","setCountries","fullName","setFullName","email","setEmail","phone","setPhone","country","setCountry","description","setDescription","useEffect","fetchPageData","res","data","err","fetchCountries","handleSubmit","e","response","jsx","jsxs","Fragment","BannerV2","section","ContactUs"],"mappings":"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"}