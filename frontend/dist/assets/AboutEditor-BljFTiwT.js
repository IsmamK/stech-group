import{z as t,r as g,j as e,M as B,S as $,J as se,$ as z,I as N,E as v,N as G,O as J,A as y,G as _,B as L,Q as Z,U as O,L as R,a0 as te,a1 as ee,a2 as le}from"./index-CBHbDdlb.js";import ne from"./About-B78u0hJY.js";const{Panel:H}=se,{TextArea:K}=N,x={primary:"#7bbf42",secondary:"#f9b414",dark:"#040404",accent:"#70308c",light:"#ffffff"},ie=({isOpen:w,onClose:j})=>{const[c]=t.useForm(),[D,I]=g.useState(!1),[E,k]=g.useState(!1),[n,f]=g.useState(["vision","mission","values"]),F="http://localhost:8000/api",U=["👁️","🎯","❤️","💡","🤝","🏗️","🔨","⚡","🚿","🧱","🏢","🏠","🌱","✨","🌟","💎","⚙️","🛠️","🔧","📐"];g.useEffect(()=>{(async()=>{if(w){I(!0);try{const P=await fetch(`${F}/about/about2`);if(!P.ok)throw new Error("Failed to fetch data");const r=await P.json()||{vision:{title:"Our Vision",content:"At our company, we recognize the significance of smooth business operations for fostering growth. To empower businesses, we provide proficient support services that alleviate their time and resource constraints.",icon:"👁️"},mission:{title:"Our Mission",content:"We support businesses with a wide range of manpower ensuring efficient and timely assistance across diverse needs.",icon:"🎯"},values:[{title:"Client Focus",content:"Absolute dedication to client needs and satisfaction",icon:"❤️"},{title:"Innovation",content:"Continuous improvement through innovative solutions",icon:"💡"},{title:"Integrity",content:"Ethical business practices and transparency",icon:"🤝"}]};c.setFieldsValue(r)}catch(P){y.error("Failed to load about data"),console.error(P)}finally{I(!1)}}})()},[w,F,c]);const V=async()=>{k(!0);try{const b=await c.validateFields();if(!(await fetch(`${F}/about/about2/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw new Error("Failed to save");_.fire({position:"center",icon:"success",title:"About Section Updated",showConfirmButton:!1,timer:2e3,background:x.light,color:x.dark}),j()}catch(b){y.error("Failed to save changes"),console.error(b)}finally{k(!1)}};return e.jsx(B,{title:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold",style:{color:x.dark},children:"Edit About Section"})}),open:w,onCancel:j,width:900,footer:[e.jsx(v,{onClick:j,disabled:E,className:"px-6 h-10 rounded-lg font-medium",style:{borderColor:x.dark,color:x.dark,backgroundColor:x.light},children:"Cancel"},"cancel"),e.jsx(v,{type:"primary",onClick:V,loading:E,style:{backgroundColor:x.primary,borderColor:x.primary,color:x.light},className:"px-6 h-10 rounded-lg font-medium hover:opacity-90",children:E?"Saving...":"Save Changes"},"save")],destroyOnClose:!0,className:"rounded-xl overflow-hidden",bodyStyle:{padding:"24px"},children:e.jsx($,{spinning:D,children:e.jsx(t,{form:c,layout:"vertical",className:"space-y-6",children:e.jsxs(se,{activeKey:n,onChange:f,bordered:!1,className:"bg-white",children:[e.jsx(H,{header:e.jsx("span",{className:"font-semibold text-lg",style:{color:x.dark},children:"Vision"}),className:"mb-4",extra:e.jsx("span",{className:"text-xl",children:c.getFieldValue(["vision","icon"])||"👁️"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(t.Item,{name:["vision","icon"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Icon"}),rules:[{required:!0,message:"Please select an icon"}],children:e.jsx(z,{placeholder:"Select emoji",className:"w-full",dropdownClassName:"emoji-dropdown",children:U.map(b=>e.jsx(z.Option,{value:b,children:e.jsx("span",{className:"text-xl",children:b})},b))})})}),e.jsxs("div",{className:"md:col-span-10 space-y-4",children:[e.jsx(t.Item,{name:["vision","title"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Title"}),rules:[{required:!0,message:"Please enter title"}],children:e.jsx(N,{placeholder:"Our Vision",className:"rounded-lg hover:border-green-500 focus:border-green-500"})}),e.jsx(t.Item,{name:["vision","content"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Content"}),rules:[{required:!0,message:"Please enter content"}],children:e.jsx(K,{rows:4,placeholder:"At our company, we recognize the significance...",className:"rounded-lg hover:border-green-500 focus:border-green-500"})})]})]})},"vision"),e.jsx(H,{header:e.jsx("span",{className:"font-semibold text-lg",style:{color:x.dark},children:"Mission"}),className:"mb-4",extra:e.jsx("span",{className:"text-xl",children:c.getFieldValue(["mission","icon"])||"🎯"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(t.Item,{name:["mission","icon"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Icon"}),rules:[{required:!0,message:"Please select an icon"}],children:e.jsx(z,{placeholder:"Select emoji",className:"w-full",dropdownClassName:"emoji-dropdown",children:U.map(b=>e.jsx(z.Option,{value:b,children:e.jsx("span",{className:"text-xl",children:b})},b))})})}),e.jsxs("div",{className:"md:col-span-10 space-y-4",children:[e.jsx(t.Item,{name:["mission","title"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Title"}),rules:[{required:!0,message:"Please enter title"}],children:e.jsx(N,{placeholder:"Our Mission",className:"rounded-lg hover:border-green-500 focus:border-green-500"})}),e.jsx(t.Item,{name:["mission","content"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Content"}),rules:[{required:!0,message:"Please enter content"}],children:e.jsx(K,{rows:4,placeholder:"We support businesses with a wide range of manpower...",className:"rounded-lg hover:border-green-500 focus:border-green-500"})})]})]})},"mission"),e.jsx(H,{header:e.jsx("span",{className:"font-semibold text-lg",style:{color:x.dark},children:"Core Values"}),className:"mb-4",children:e.jsx(t.List,{name:"values",children:(b,{add:P,remove:r})=>e.jsxs("div",{className:"space-y-4",children:[b.map(({key:i,name:o,...m})=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h4",{className:"font-medium",style:{color:x.dark},children:["Value ",o+1]}),e.jsx(v,{danger:!0,type:"text",icon:e.jsx(G,{}),onClick:()=>r(o),style:{color:"#ff4d4f"}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(t.Item,{...m,name:[o,"icon"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Icon"}),rules:[{required:!0,message:"Please select an icon"}],children:e.jsx(z,{placeholder:"Select emoji",className:"w-full",dropdownClassName:"emoji-dropdown",children:U.map(S=>e.jsx(z.Option,{value:S,children:e.jsx("span",{className:"text-xl",children:S})},S))})})}),e.jsxs("div",{className:"md:col-span-10 space-y-4",children:[e.jsx(t.Item,{...m,name:[o,"title"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Title"}),rules:[{required:!0,message:"Please enter title"}],children:e.jsx(N,{placeholder:"Client Focus",className:"rounded-lg hover:border-green-500 focus:border-green-500"})}),e.jsx(t.Item,{...m,name:[o,"content"],label:e.jsx("span",{className:"font-medium",style:{color:x.dark},children:"Description"}),rules:[{required:!0,message:"Please enter description"}],children:e.jsx(K,{rows:2,placeholder:"Absolute dedication to client needs and satisfaction",className:"rounded-lg hover:border-green-500 focus:border-green-500"})})]})]})]},i)),e.jsx(v,{type:"dashed",onClick:()=>P({icon:"❤️",title:"",content:""}),icon:e.jsx(J,{}),block:!0,className:"mt-2 rounded-lg h-10",style:{borderColor:x.secondary,color:x.secondary,backgroundColor:`${x.secondary}10`},children:"Add Core Value"})]})})},"values")]})})})})},{TextArea:de}=N,ce=({isOpen:w,onClose:j})=>{const[c]=t.useForm(),[D,I]=g.useState(!1),[E,k]=g.useState(!1),[n,f]=g.useState([]),[F,U]=g.useState(!1);g.useEffect(()=>{w&&!F&&(V(),U(!0))},[w,F]);const V=async()=>{try{I(!0);const p=await fetch("http://localhost:8000/api/directors/");if(!p.ok){if(p.status===404){b();return}throw new Error("Failed to fetch directors data")}const C=await p.json();C?(c.setFieldsValue({title:C.title||"",description:C.description||""}),f(C.members||[])):b()}catch(u){console.error("Error fetching directors data:",u),y.error("Failed to load directors data. Using default values."),b()}finally{I(!1)}},b=()=>{c.setFieldsValue({title:"Board of Directors",description:"We are trying to build a global community within our Stech Group who believes in progress. Keeping a sustainable progressive plan, we are training up people to be leaders to lead the future. Check our Board of Corporate leaders below."}),f([])},P=async(u,p)=>{const C=new FormData;C.append("image",u),C.append("category","director_photos");try{k(!0);const a=await fetch("http://localhost:8000/api/images/",{method:"POST",body:C});if(!a.ok)throw new Error("Upload failed");const l=(await a.json()).image,h=n.map(d=>d.id===p?{...d,image:l}:d);return f(h),l}catch(T){return console.error("Upload error:",T),y.error("Image upload failed"),null}finally{k(!1)}},r=u=>({name:"image",showUploadList:!1,customRequest:async({file:p,onSuccess:C,onError:T})=>{const a=await P(p,u);a?C(a,p):T(new Error("Upload failed"))},beforeUpload:p=>{const C=p.type.startsWith("image/");if(!C)return y.error("You can only upload image files!"),O.LIST_IGNORE;const T=p.size/1024/1024<5;return T?C&&T:(y.error("Image must be smaller than 5MB!"),O.LIST_IGNORE)}}),i=()=>{const u={id:Date.now(),name:"",designation:"",image:""};f([...n,u])},o=u=>{f(n.filter(p=>p.id!==u))},m=(u,p,C)=>{const T=n.map(a=>a.id===u?{...a,[p]:C}:a);f(T)},S=async()=>{try{const u=await c.validateFields(),p={title:u.title,description:u.description,members:n.map(a=>({name:a.name,designation:a.designation,image:a.image})).filter(a=>a.name)},T=await fetch("http://localhost:8000/api/directors/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!T.ok){const a=await T.json();throw new Error(a.message||"Failed to save directors data")}_.fire({position:"top-end",icon:"success",title:"Directors Content Updated Successfully",showConfirmButton:!1,timer:3e3}),j()}catch(u){console.error("Error saving directors data:",u),y.error(u.message||"Failed to update directors section")}};return e.jsx(B,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Board of Directors"}),open:w,onCancel:j,footer:[e.jsx(v,{onClick:j,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(v,{type:"primary",onClick:S,loading:D,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:800,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx($,{spinning:D,children:e.jsxs(t,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(L,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(t.Item,{name:"title",label:"Section Title",rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(N,{size:"large",placeholder:"e.g., Board of Directors",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter the description"}],children:e.jsx(de,{rows:4,placeholder:"Description about the board of directors",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]})}),e.jsx(L,{title:"Directors List",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:e.jsx(v,{type:"primary",icon:e.jsx(J,{}),onClick:i,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Director"}),children:e.jsx(Z,{dataSource:n,renderItem:u=>e.jsx(Z.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(N,{placeholder:"Director Name",value:u.name,onChange:p=>m(u.id,"name",p.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsx(N,{placeholder:"Designation",value:u.designation,onChange:p=>m(u.id,"designation",p.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(O,{...r(u.id),children:e.jsx(v,{icon:e.jsx(R,{}),loading:E,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Photo"})}),u.image&&e.jsx("div",{className:"relative w-16 h-16 rounded-full overflow-hidden border-2 border-gray-200",children:e.jsx("img",{src:u.image,alt:"Director photo",className:"w-full h-full object-cover"})})]})]}),e.jsx(v,{danger:!0,icon:e.jsx(G,{}),onClick:()=>o(u.id),className:"ml-4"})]})})},u.id)})})]})})})},{TextArea:ae}=N,ue=({isOpen:w,onClose:j})=>{const[c]=t.useForm(),[D,I]=g.useState(!1),[E,k]=g.useState(!1),[n,f]=g.useState(!1);g.useEffect(()=>{w&&!n&&(F(),f(!0))},[w,n]);const F=async()=>{try{I(!0);const i=await fetch("http://localhost:8000/api/chairman-message/");if(!i.ok){if(i.status===404){U();return}throw new Error("Failed to fetch chairman message data")}const o=await i.json();o?c.setFieldsValue({heading:o.heading||"",subheading:o.subheading||"",description:o.description||"",name:o.name||"",designation:o.designation||"",image:o.image||""}):U()}catch(r){console.error("Error fetching chairman message data:",r),y.error("Failed to load chairman message data. Using default values."),U()}finally{I(!1)}},U=()=>{c.setFieldsValue({heading:"Chairman's Message",subheading:"Stech Group is one of the most growing groups of companies in Bangladesh and we want to keep it that way. Our goal is to do something great for the nation globally. Keeping that in our mind, we are moving forward with the latest technology and implementing them on our sister's concerns.",description:"Stech Group was created with the hope of many dreams coming together. We are passionate about the opportunity we have to be independent in all aspects of a sustainable environment. Our divisions were built in order to use our resources more effectively and avoid the need for subcontracting. This saves time when it comes to servicing. We're moving quickly and taking a keen interest in what our consumers want and need. We designed Stech Group to be consumer-focused from the get-go. We're expanding our operations and growing our workforce because we're committed to providing a one-stop solution for the heavy industrial market. The changes we see in our company underscore our commitment to this goal and demonstrate our progress. We are a practical organization that provides a wide range of services. We have planned and executed our projects well, and we continue to improve our services. Thanks to our new partners and our dedication to quality work, we are expanding and will continue to do so.",name:"Md Sohel Rana",designation:"Chairman",image:""})},V=async r=>{const i=new FormData;i.append("image",r),i.append("category","chairman_photo");try{k(!0);const m=await fetch("http://localhost:8000/api/images/",{method:"POST",body:i});if(!m.ok)throw new Error("Upload failed");const u=(await m.json()).image;return c.setFieldsValue({image:u}),u}catch(o){return console.error("Upload error:",o),y.error("Image upload failed"),null}finally{k(!1)}},b={name:"image",showUploadList:!1,customRequest:async({file:r,onSuccess:i,onError:o})=>{const m=await V(r);m?i(m,r):o(new Error("Upload failed"))},beforeUpload:r=>{const i=r.type.startsWith("image/");if(!i)return y.error("You can only upload image files!"),O.LIST_IGNORE;const o=r.size/1024/1024<5;return o?i&&o:(y.error("Image must be smaller than 5MB!"),O.LIST_IGNORE)}},P=async()=>{try{const r=await c.validateFields(),i={heading:r.heading,subheading:r.subheading,description:r.description,name:r.name,designation:r.designation,image:r.image||""},m=await fetch("http://localhost:8000/api/chairman-message/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!m.ok){const S=await m.json();throw new Error(S.message||"Failed to save chairman message data")}_.fire({position:"top-end",icon:"success",title:"Chairman's Message Updated Successfully",showConfirmButton:!1,timer:3e3}),j()}catch(r){console.error("Error saving chairman message data:",r),y.error(r.message||"Failed to update chairman's message")}};return e.jsx(B,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Chairman's Message"}),open:w,onCancel:j,footer:[e.jsx(v,{onClick:j,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(v,{type:"primary",onClick:P,loading:D,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:800,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx($,{spinning:D,children:e.jsx(t,{form:c,layout:"vertical",className:"space-y-6",children:e.jsx(L,{title:"Chairman's Message Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(t.Item,{name:"heading",label:"Heading",rules:[{required:!0,message:"Please enter the heading"}],children:e.jsx(N,{size:"large",placeholder:"e.g., Chairman's Message",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"subheading",label:"Subheading",rules:[{required:!0,message:"Please enter the subheading"}],children:e.jsx(ae,{rows:3,placeholder:"Short introduction text",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter the description"}],children:e.jsx(ae,{rows:6,placeholder:"Detailed message content",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t.Item,{name:"name",label:"Chairman's Name",rules:[{required:!0,message:"Please enter the name"}],children:e.jsx(N,{size:"large",placeholder:"e.g., Md Sohel Rana",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"designation",label:"Designation",rules:[{required:!0,message:"Please enter the designation"}],children:e.jsx(N,{size:"large",placeholder:"e.g., Chairman",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]}),e.jsx(t.Item,{label:"Chairman's Photo",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(O,{...b,children:e.jsx(v,{icon:e.jsx(R,{}),loading:E,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Photo"})}),c.getFieldValue("image")&&e.jsx("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200",children:e.jsx("img",{src:c.getFieldValue("image"),alt:"Chairman's photo",className:"w-full h-full object-cover"})})]})})]})})})})})},{TextArea:Q}=N,me=({isOpen:w,onClose:j})=>{const[c]=t.useForm(),[D,I]=g.useState(!1),[E,k]=g.useState({image1:!1,image2:!1}),[n,f]=g.useState(!1);g.useEffect(()=>{w&&!n&&(F(),f(!0))},[w,n]);const F=async()=>{try{I(!0);const i=await fetch("http://localhost:8000/api/core-values/");if(!i.ok){if(i.status===404){U();return}throw new Error("Failed to fetch core values data")}const o=await i.json();o?c.setFieldsValue({title:o.title||"",mission:o.mission||"",vision:o.vision||"",values:o.values||"",image1:o.image1||"",image2:o.image2||""}):U()}catch(r){console.error("Error fetching core values data:",r),y.error("Failed to load core values data. Using default values."),U()}finally{I(!1)}},U=()=>{c.setFieldsValue({title:"Our Mission, Vision, & Values",mission:"Stech Group aims to deliver innovative and customer-centric solutions across diverse industries, fostering growth, trust, and value for our clients, employees, and partners while contributing to the socio-economic development of Bangladesh and beyond.",vision:"To become a global leader in our industries by setting benchmarks for quality, integrity, and excellence, while driving sustainable growth and making a positive impact in the communities we serve.",values:"At the heart of our Stech Group operations are five core values that guide us: Integrity, where we uphold transparency, trust, and ethical practices; Innovation, embracing creativity and advanced technologies to deliver exceptional solutions; Excellence, striving for superior performance and continuous improvement in every endeavor; Customer Focus, prioritizing the needs and satisfaction of our clients and stakeholders; and Social Responsibility, empowering communities through sustainable and meaningful initiatives. These values collectively drive our mission and vision toward achieving impactful growth and lasting success.",image1:"",image2:""})},V=async(r,i)=>{const o=new FormData;o.append("image",r),o.append("category","core_values_images");try{k(C=>({...C,[i]:!0}));const S=await fetch("http://localhost:8000/api/images/",{method:"POST",body:o});if(!S.ok)throw new Error("Upload failed");const p=(await S.json()).image;return c.setFieldsValue({[i]:p}),p}catch(m){return console.error("Upload error:",m),y.error("Image upload failed"),null}finally{k(m=>({...m,[i]:!1}))}},b=r=>({name:"image",showUploadList:!1,customRequest:async({file:i,onSuccess:o,onError:m})=>{const S=await V(i,r);S?o(S,i):m(new Error("Upload failed"))},beforeUpload:i=>{const o=i.type.startsWith("image/");if(!o)return y.error("You can only upload image files!"),O.LIST_IGNORE;const m=i.size/1024/1024<5;return m?o&&m:(y.error("Image must be smaller than 5MB!"),O.LIST_IGNORE)}}),P=async()=>{try{const r=await c.validateFields(),i={title:r.title,mission:r.mission,vision:r.vision,values:r.values,image1:r.image1||"",image2:r.image2||""},m=await fetch("http://localhost:8000/api/core-values/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!m.ok){const S=await m.json();throw new Error(S.message||"Failed to save core values data")}_.fire({position:"top-end",icon:"success",title:"Core Values Updated Successfully",showConfirmButton:!1,timer:3e3}),j()}catch(r){console.error("Error saving core values data:",r),y.error(r.message||"Failed to update core values")}};return e.jsx(B,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Mission, Vision & Values"}),open:w,onCancel:j,footer:[e.jsx(v,{onClick:j,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(v,{type:"primary",onClick:P,loading:D,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:800,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx($,{spinning:D,children:e.jsxs(t,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(L,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(t.Item,{name:"title",label:"Section Title",rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(N,{size:"large",placeholder:"e.g., Our Mission, Vision & Values",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"mission",label:"Mission Statement",rules:[{required:!0,message:"Please enter the mission statement"}],children:e.jsx(Q,{rows:4,placeholder:"Enter the company mission statement",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"vision",label:"Vision Statement",rules:[{required:!0,message:"Please enter the vision statement"}],children:e.jsx(Q,{rows:4,placeholder:"Enter the company vision statement",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"values",label:"Core Values",rules:[{required:!0,message:"Please enter the core values"}],children:e.jsx(Q,{rows:6,placeholder:"Describe the company core values",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]})}),e.jsx(L,{title:"Images",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t.Item,{label:"Mission/Vision Image",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(O,{...b("image1"),children:e.jsx(v,{icon:e.jsx(R,{}),loading:E.image1,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),c.getFieldValue("image1")&&e.jsx("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-200",children:e.jsx("img",{src:c.getFieldValue("image1"),alt:"Mission/Vision",className:"w-full h-full object-cover"})})]})}),e.jsx(t.Item,{label:"Values Image",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(O,{...b("image2"),children:e.jsx(v,{icon:e.jsx(R,{}),loading:E.image2,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),c.getFieldValue("image2")&&e.jsx("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-200",children:e.jsx("img",{src:c.getFieldValue("image2"),alt:"Core Values",className:"w-full h-full object-cover"})})]})})]})})]})})})},{TextArea:X}=N,he=({isOpen:w,onClose:j})=>{const[c]=t.useForm(),[D,I]=g.useState(!1),[E,k]=g.useState(!1),[n,f]=g.useState(null),[F,U]=g.useState(!1);console.log(n),g.useEffect(()=>{w&&!F&&(V(),U(!0))},[w,F]);const V=async()=>{try{I(!0);const s=await fetch("http://localhost:8000/api/about/about2");if(!s.ok)throw new Error("Failed to fetch about data");const l=await s.json();f(l),c.setFieldsValue({title:l.title,text:l.text})}catch(a){console.error("Error fetching about data:",a),y.error("Failed to load about data.")}finally{I(!1)}},b=async(a,s,l=null)=>{const h=new FormData;h.append("image",a),h.append("category","about_images");try{k(!0);const A=await fetch("http://localhost:8000/api/images/",{method:"POST",body:h});if(!A.ok)throw new Error("Upload failed");const q=`${(await A.json()).image}`,re=n.sections.map(W=>{if(W.id===s){const oe=W.images.map(Y=>Y.id===l?{...Y,image:q}:Y);return{...W,images:oe}}return W});return f({...n,sections:re}),q}catch(d){return console.error("Upload error:",d),y.error("Image upload failed"),null}finally{k(!1)}},P=(a,s=null)=>({name:"image",showUploadList:!1,customRequest:async({file:l,onSuccess:h,onError:d})=>{const A=await b(l,a,s);A?h(A,l):d(new Error("Upload failed"))},beforeUpload:l=>{const h=l.type.startsWith("image/");if(!h)return y.error("You can only upload image files!"),O.LIST_IGNORE;const d=l.size/1024/1024<5;return d?h&&d:(y.error("Image must be smaller than 5MB!"),O.LIST_IGNORE)}}),r=(a,s)=>{f({...n,[a]:s})},i=(a,s,l)=>{const h=n.sections.map(d=>d.id===a?{...d,[s]:l}:d);f({...n,sections:h})},o=(a,s,l,h)=>{const d=n.sections.map(A=>{if(A.id===a){const M=A.images.map(q=>q.id===s?{...q,[l]:h}:q);return{...A,images:M}}return A});f({...n,sections:d})},m=(a,s,l)=>{const d=n.sections.find(M=>M.portfolios).portfolios.map(M=>M.id===a?{...M,[s]:l}:M),A=n.sections.map(M=>M.portfolios?{...M,portfolios:d}:M);f({...n,sections:A})},S=a=>{const s=n.sections.map(l=>{if(l.id===a){const h={id:Date.now(),image:"",primary_text:"",secondary_text:"",description:""};return{...l,images:[...l.images||[],h]}}return l});f({...n,sections:s})},u=(a,s)=>{const l=n.sections.map(h=>h.id===a?{...h,images:h.images.filter(d=>d.id!==s)}:h);f({...n,sections:l})},p=()=>{const a=n.sections.find(d=>d.portfolios),s={id:Date.now(),title:"",portfolio:""},l=[...a.portfolios,s],h=n.sections.map(d=>d.portfolios?{...d,portfolios:l}:d);f({...n,sections:h})},C=a=>{const l=n.sections.find(d=>d.portfolios).portfolios.filter(d=>d.id!==a),h=n.sections.map(d=>d.portfolios?{...d,portfolios:l}:d);f({...n,sections:h})},T=async()=>{try{const a=await c.validateFields(),s={...n,title:a.title,text:a.text},h=await fetch("http://localhost:8000/api/about/about2/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!h.ok){const d=await h.json();throw new Error(d.message||"Failed to save about data")}_.fire({position:"top-end",icon:"success",title:"About Content Updated Successfully",showConfirmButton:!1,timer:3e3}),j()}catch(a){console.error("Error saving about data:",a),y.error(a.message||"Failed to update about section")}};return n?e.jsx(B,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit About Section"}),open:w,onCancel:j,footer:[e.jsx(v,{onClick:j,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(v,{type:"primary",onClick:T,loading:D,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:1e3,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx($,{spinning:D,children:e.jsxs(t,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(L,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(t.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Page Title"}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(N,{size:"large",onChange:a=>r("title",a.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(t.Item,{name:"text",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Main Text"}),rules:[{required:!0,message:"Please enter the main text"}],children:e.jsx(X,{rows:8,onChange:a=>r("text",a.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]})}),n.sections.map(a=>e.jsx(L,{title:a.title,bordered:!1,className:"rounded-lg shadow-sm border-0 mt-6",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:a.images&&e.jsx(v,{type:"primary",icon:e.jsx(J,{}),onClick:()=>S(a.id),className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Image"}),children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),children:e.jsx(N,{value:a.title,onChange:s=>i(a.id,"title",s.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),a.text&&e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Text"}),children:e.jsx(X,{rows:4,value:a.text,onChange:s=>i(a.id,"text",s.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),a.images&&a.images.map(s=>e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[e.jsxs(te,{gutter:16,children:[e.jsxs(ee,{span:12,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(O,{...P(a.id,s.id),children:e.jsx(v,{icon:e.jsx(R,{}),loading:E,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),s.image&&e.jsx("div",{className:"relative w-24 h-24",children:e.jsx("img",{src:s.image,alt:"Section content",className:"w-full h-full object-contain"})})]}),s.primary_text!==void 0&&e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Primary Text"}),children:e.jsx(N,{value:s.primary_text,onChange:l=>o(a.id,s.id,"primary_text",l.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400 mb-4"})}),s.secondary_text!==void 0&&e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Secondary Text"}),children:e.jsx(N,{value:s.secondary_text,onChange:l=>o(a.id,s.id,"secondary_text",l.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400 mb-4"})})]}),e.jsx(ee,{span:12,children:s.description!==void 0&&e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Description"}),children:e.jsx(X,{rows:6,value:s.description,onChange:l=>o(a.id,s.id,"description",l.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(v,{danger:!0,icon:e.jsx(G,{}),onClick:()=>u(a.id,s.id)})})]},s.id)),a.portfolios&&e.jsxs(e.Fragment,{children:[e.jsx(le,{orientation:"left",children:"Portfolios"}),e.jsx(v,{type:"primary",icon:e.jsx(J,{}),onClick:p,className:"flex items-center bg-blue-600 hover:bg-blue-700 mb-4",children:"Add Portfolio"}),a.portfolios.map(s=>e.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg mb-4",children:[e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Portfolio Title"}),children:e.jsx(N,{value:s.title,onChange:l=>m(s.id,"title",l.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400 mb-4"})}),e.jsx(t.Item,{label:e.jsx("span",{className:"font-medium text-gray-700",children:"Portfolio File URL"}),children:e.jsx(N,{value:s.portfolio,onChange:l=>m(s.id,"portfolio",l.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{danger:!0,icon:e.jsx(G,{}),onClick:()=>C(s.id)})})]},s.id))]})]})},a.id))]})})}):null},fe=()=>{const[w,j]=g.useState(!1),[c,D]=g.useState(!1),[I,E]=g.useState(!1),[k,n]=g.useState(!1),[f,F]=g.useState(!1),[U,V]=g.useState(!1);return e.jsxs("div",{className:"flex gap-20 items-center justify-between p-20",children:[e.jsx("div",{className:"flex flex-col gap-10",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>j(!0),children:"About Page Modal"})}),e.jsx("div",{className:"mockup-browser bg-white border-8 border-black p-2 h-[700px] overflow-y-scroll",children:e.jsxs("div",{className:"bg-base-300",children:[e.jsx("div",{className:"mockup-browser-toolbar m-10",children:e.jsx("div",{className:"input",children:"https://sample-website.com"})}),e.jsx("div",{className:"overflow-scroll",children:e.jsx(ne,{})})]})}),e.jsx(he,{isOpen:w,onClose:()=>j(!1)}),e.jsx(ie,{isOpen:c,onClose:()=>D(!1)}),e.jsx(ue,{isOpen:I,onClose:()=>E(!1)}),e.jsx(ce,{isOpen:k,onClose:()=>n(!1)}),e.jsx(me,{isOpen:f,onClose:()=>F(!1)})]})};export{fe as default};
//# sourceMappingURL=AboutEditor-BljFTiwT.js.map
