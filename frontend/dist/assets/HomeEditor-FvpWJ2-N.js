import{r as h,_ as ce,i as ne,k as de,l as ie,n as Z,o as ue,K as ee,p as me,q as he,t as ge,v as H,w as pe,x as xe,C as fe,D as be,y as ye,W as ve,R as je,z as E,A as k,j as e,M as K,S as X,B as z,I as O,E as I,G as q,T as B,H as _,J as Q,U as P,L as W,N as G,O as Y,P as we,Q as R,V as Se,X as Ne,Y as Ce,Z as Ie}from"./index-CBHbDdlb.js";import{I as ke}from"./index-BPxmFDBn.js";var $e=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],le=h.forwardRef(function(s,i){var c,g=s.prefixCls,f=g===void 0?"rc-switch":g,j=s.className,S=s.checked,u=s.defaultChecked,d=s.disabled,x=s.loadingIcon,y=s.checkedChildren,$=s.unCheckedChildren,C=s.onClick,F=s.onChange,U=s.onKeyDown,A=ce(s,$e),L=ne(!1,{value:S,defaultValue:u}),T=de(L,2),D=T[0],p=T[1];function v(l,a){var o=D;return d||(o=l,p(o),F==null||F(o,a)),o}function r(l){l.which===ee.LEFT?v(!1,l):l.which===ee.RIGHT&&v(!0,l),U==null||U(l)}function t(l){var a=v(!D,l);C==null||C(a,l)}var n=ie(f,j,(c={},Z(c,"".concat(f,"-checked"),D),Z(c,"".concat(f,"-disabled"),d),c));return h.createElement("button",ue({},A,{type:"button",role:"switch","aria-checked":D,disabled:d,className:n,ref:i,onKeyDown:r,onClick:t}),x,h.createElement("span",{className:"".concat(f,"-inner")},h.createElement("span",{className:"".concat(f,"-inner-checked")},y),h.createElement("span",{className:"".concat(f,"-inner-unchecked")},$)))});le.displayName="Switch";const Oe=s=>{const{componentCls:i,trackHeightSM:c,trackPadding:g,trackMinWidthSM:f,innerMinMarginSM:j,innerMaxMarginSM:S,handleSizeSM:u,calc:d}=s,x=`${i}-inner`,y=H(d(u).add(d(g).mul(2)).equal()),$=H(d(S).mul(2).equal());return{[i]:{[`&${i}-small`]:{minWidth:f,height:c,lineHeight:H(c),[`${i}-inner`]:{paddingInlineStart:S,paddingInlineEnd:j,[`${x}-checked, ${x}-unchecked`]:{minHeight:c},[`${x}-checked`]:{marginInlineStart:`calc(-100% + ${y} - ${$})`,marginInlineEnd:`calc(100% - ${y} + ${$})`},[`${x}-unchecked`]:{marginTop:d(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${i}-handle`]:{width:u,height:u},[`${i}-loading-icon`]:{top:d(d(u).sub(s.switchLoadingIconSize)).div(2).equal(),fontSize:s.switchLoadingIconSize},[`&${i}-checked`]:{[`${i}-inner`]:{paddingInlineStart:j,paddingInlineEnd:S,[`${x}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${x}-unchecked`]:{marginInlineStart:`calc(100% - ${y} + ${$})`,marginInlineEnd:`calc(-100% + ${y} - ${$})`}},[`${i}-handle`]:{insetInlineStart:`calc(100% - ${H(d(u).add(g).equal())})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${x}`]:{[`${x}-unchecked`]:{marginInlineStart:d(s.marginXXS).div(2).equal(),marginInlineEnd:d(s.marginXXS).mul(-1).div(2).equal()}},[`&${i}-checked ${x}`]:{[`${x}-checked`]:{marginInlineStart:d(s.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:d(s.marginXXS).div(2).equal()}}}}}}},Ee=s=>{const{componentCls:i,handleSize:c,calc:g}=s;return{[i]:{[`${i}-loading-icon${s.iconCls}`]:{position:"relative",top:g(g(c).sub(s.fontSize)).div(2).equal(),color:s.switchLoadingIconColor,verticalAlign:"top"},[`&${i}-checked ${i}-loading-icon`]:{color:s.switchColor}}}},Ue=s=>{const{componentCls:i,trackPadding:c,handleBg:g,handleShadow:f,handleSize:j,calc:S}=s,u=`${i}-handle`;return{[i]:{[u]:{position:"absolute",top:c,insetInlineStart:c,width:j,height:j,transition:`all ${s.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:g,borderRadius:S(j).div(2).equal(),boxShadow:f,transition:`all ${s.switchDuration} ease-in-out`,content:'""'}},[`&${i}-checked ${u}`]:{insetInlineStart:`calc(100% - ${H(S(j).add(c).equal())})`},[`&:not(${i}-disabled):active`]:{[`${u}::before`]:{insetInlineEnd:s.switchHandleActiveInset,insetInlineStart:0},[`&${i}-checked ${u}::before`]:{insetInlineEnd:0,insetInlineStart:s.switchHandleActiveInset}}}}},Fe=s=>{const{componentCls:i,trackHeight:c,trackPadding:g,innerMinMargin:f,innerMaxMargin:j,handleSize:S,calc:u}=s,d=`${i}-inner`,x=H(u(S).add(u(g).mul(2)).equal()),y=H(u(j).mul(2).equal());return{[i]:{[d]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:j,paddingInlineEnd:f,transition:`padding-inline-start ${s.switchDuration} ease-in-out, padding-inline-end ${s.switchDuration} ease-in-out`,[`${d}-checked, ${d}-unchecked`]:{display:"block",color:s.colorTextLightSolid,fontSize:s.fontSizeSM,transition:`margin-inline-start ${s.switchDuration} ease-in-out, margin-inline-end ${s.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:c},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${x} - ${y})`,marginInlineEnd:`calc(100% - ${x} + ${y})`},[`${d}-unchecked`]:{marginTop:u(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${i}-checked ${d}`]:{paddingInlineStart:f,paddingInlineEnd:j,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${x} + ${y})`,marginInlineEnd:`calc(-100% + ${x} - ${y})`}},[`&:not(${i}-disabled):active`]:{[`&:not(${i}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:u(g).mul(2).equal(),marginInlineEnd:u(g).mul(-1).mul(2).equal()}},[`&${i}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:u(g).mul(-1).mul(2).equal(),marginInlineEnd:u(g).mul(2).equal()}}}}}},Te=s=>{const{componentCls:i,trackHeight:c,trackMinWidth:g}=s;return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({},ge(s)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:g,height:c,lineHeight:H(c),verticalAlign:"middle",background:s.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${s.motionDurationMid}`,userSelect:"none",[`&:hover:not(${i}-disabled)`]:{background:s.colorTextTertiary}}),pe(s)),{[`&${i}-checked`]:{background:s.switchColor,[`&:hover:not(${i}-disabled)`]:{background:s.colorPrimaryHover}},[`&${i}-loading, &${i}-disabled`]:{cursor:"not-allowed",opacity:s.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${i}-rtl`]:{direction:"rtl"}})}},De=s=>{const{fontSize:i,lineHeight:c,controlHeight:g,colorWhite:f}=s,j=i*c,S=g/2,u=2,d=j-u*2,x=S-u*2;return{trackHeight:j,trackHeightSM:S,trackMinWidth:d*2+u*4,trackMinWidthSM:x*2+u*2,trackPadding:u,handleBg:f,handleSize:d,handleSizeSM:x,handleShadow:`0 2px 4px 0 ${new xe("#00230b").setA(.2).toRgbString()}`,innerMinMargin:d/2,innerMaxMargin:d+u+u*2,innerMinMarginSM:x/2,innerMaxMarginSM:x+u+u*2}},Me=me("Switch",s=>{const i=he(s,{switchDuration:s.motionDurationMid,switchColor:s.colorPrimary,switchDisabledOpacity:s.opacityLoading,switchLoadingIconSize:s.calc(s.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${s.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Te(i),Fe(i),Ue(i),Ee(i),Oe(i)]},De);var Pe=function(s,i){var c={};for(var g in s)Object.prototype.hasOwnProperty.call(s,g)&&i.indexOf(g)<0&&(c[g]=s[g]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,g=Object.getOwnPropertySymbols(s);f<g.length;f++)i.indexOf(g[f])<0&&Object.prototype.propertyIsEnumerable.call(s,g[f])&&(c[g[f]]=s[g[f]]);return c};const Le=h.forwardRef((s,i)=>{const{prefixCls:c,size:g,disabled:f,loading:j,className:S,rootClassName:u,style:d,checked:x,value:y,defaultChecked:$,defaultValue:C,onChange:F}=s,U=Pe(s,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[A,L]=ne(!1,{value:x??y,defaultValue:$??C}),{getPrefixCls:T,direction:D,switch:p}=h.useContext(fe),v=h.useContext(be),r=(f??v)||j,t=T("switch",c),n=h.createElement("div",{className:`${t}-handle`},j&&h.createElement(je,{className:`${t}-loading-icon`})),[l,a,o]=Me(t),m=ye(g),b=ie(p==null?void 0:p.className,{[`${t}-small`]:m==="small",[`${t}-loading`]:j,[`${t}-rtl`]:D==="rtl"},S,u,a,o),N=Object.assign(Object.assign({},p==null?void 0:p.style),d),M=(...w)=>{L(w[0]),F==null||F.apply(void 0,w)};return l(h.createElement(ve,{component:"Switch"},h.createElement(le,Object.assign({},U,{checked:A,onChange:M,prefixCls:t,className:b,style:N,disabled:r,ref:i,loadingIcon:n}))))}),oe=Le;oe.__ANT_SWITCH=!0;const Ae=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1);h.useEffect(()=>{s&&!j&&(u(),S(!0))},[s,j]);const u=async()=>{try{f(!0);const $=await fetch("http://localhost:8000/api/home/hero/");if(!$.ok){if($.status===404){d();return}throw new Error("Failed to fetch hero data")}const C=await $.json();c.setFieldsValue({title:(C==null?void 0:C.title)||""})}catch(y){console.error("Error fetching hero data:",y),k.error("Failed to load hero data"),d()}finally{f(!1)}},d=()=>{c.setFieldsValue({title:"STECH GROUP: A BRAND BUILT ON TRUST, QUALITY & CONFIDENCE"})},x=async()=>{try{const y=await c.validateFields();if(!(await fetch("http://localhost:8000/api/home/hero/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:y.title})})).ok)throw new Error("Failed to save hero data");q.fire({position:"top-end",icon:"success",title:"Hero Title Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(y){console.error("Error saving hero data:",y),k.error(y.message||"Failed to update hero title")}};return e.jsx(K,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Hero Title"}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:x,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:600,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,children:e.jsx(E,{form:c,layout:"vertical",children:e.jsx(z,{bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsx(E.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Hero Title"}),rules:[{required:!0,message:"Please enter the hero title"},{max:100,message:"Title cannot exceed 100 characters"}],children:e.jsx(O,{size:"large",placeholder:"Enter hero title",className:"rounded-lg hover:border-blue-400 focus:border-blue-400",allowClear:!0})})})})})})},{TextArea:te}=O,{Panel:ze}=Q,Be=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1),[u,d]=h.useState(!1),[x,y]=h.useState([]),[$,C]=h.useState([]);h.useEffect(()=>{s?F():(d(!1),C([]))},[s]);const F=async()=>{try{f(!0);const n=await fetch("http://localhost:8000/api/our-concern/home/");if(!n.ok){if(n.status===404){U();return}throw new Error("Failed to fetch concern data")}const l=await n.json();if(l){c.setFieldsValue({title:l.title||"",description:l.description||""});const a=(l.brands||[]).map(o=>{var m,b;return{...o,id:o.id||Date.now()+Math.random(),sections:{...o.sections,id:((m=o.sections)==null?void 0:m.id)||Date.now()+Math.random(),images:((b=o.sections)==null?void 0:b.images)||[]}}});y(a),C(a.map(o=>o.id))}else U()}catch(t){console.error("Error fetching concern data:",t),k.error("Failed to load concern data. Using default values."),U()}finally{f(!1),d(!0)}},U=()=>{c.setFieldsValue({title:"Our Concern",description:"With the Head Office in Dhaka, Bangladesh, Stech Group operates a wide range of businesses across diverse industries both locally and internationally..."}),y([])},A=async(t,n,l)=>{const a=new FormData;a.append("image",t),a.append("category",n==="brandLogo"?"brand_logos":"brand_backgrounds");try{S(!0);const m=await fetch("http://localhost:8000/api/images/",{method:"POST",body:a});if(!m.ok)throw new Error("Upload failed");const N=`${(await m.json()).image}`;return n==="brandLogo"?y(M=>M.map(w=>w.id===l?{...w,logo:N}:w)):n==="brandBackground"&&y(M=>M.map(w=>w.id===l?{...w,sections:{...w.sections,images:[{image:N}]}}:w)),k.success("Image uploaded successfully!"),N}catch(o){return console.error("Upload error:",o),k.error("Image upload failed"),null}finally{S(!1)}},L=(t,n)=>({name:"image",showUploadList:!1,customRequest:async({file:l,onSuccess:a,onError:o})=>{const m=await A(l,t,n);m?a(m,l):o(new Error("Upload failed"))},beforeUpload:l=>{const a=l.type.startsWith("image/");if(!a)return k.error("You can only upload image files!"),P.LIST_IGNORE;const o=l.size/1024/1024<5;return o?a&&o:(k.error("Image must be smaller than 5MB!"),P.LIST_IGNORE)}}),T=()=>{const t={id:Date.now()+Math.random(),name:"",slug:"",logo:"",banner_title:"",site_url:"",sections:{id:Date.now()+Math.random(),title:"",text:"",images:[]}};y(n=>[...n,t]),C(n=>[...n,t.id])},D=t=>{q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(n=>{n.isConfirmed&&(y(l=>l.filter(a=>a.id!==t)),C(l=>l.filter(a=>a!==t)),k.success("Brand removed successfully"))})},p=(t,n,l)=>{y(a=>a.map(o=>{if(o.id===t){if(n.startsWith("sections.")){const m=n.split(".")[1];return{...o,sections:{...o.sections,[m]:l}}}return{...o,[n]:l}}return o}))},v=async()=>{try{const t=await c.validateFields();if(x.some(m=>!m.name.trim()))throw new Error("Please provide names for all brands or remove empty ones");const l={title:t.title,description:t.description,brands:x.map(m=>{var b,N,M,w;return{id:m.id,name:m.name,slug:m.slug,logo:m.logo,banner_title:m.banner_title,site_url:m.site_url,sections:{id:(b=m.sections)==null?void 0:b.id,title:((N=m.sections)==null?void 0:N.title)||"",text:((M=m.sections)==null?void 0:M.text)||"",images:((w=m.sections)==null?void 0:w.images)||[]}}}).filter(m=>m.name)};f(!0);const o=await fetch("http://localhost:8000/api/our-concern/home/",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!o.ok){const m=await o.json();throw new Error(m.message||"Failed to save concern data")}q.fire({position:"top-end",icon:"success",title:"Concern Content Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(t){console.error("Error saving concern data:",t),k.error(t.message||"Failed to update concern section")}finally{f(!1)}},r=t=>{C(t)};return e.jsx(K,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Our Concern Section"}),e.jsx(B,{title:"This section displays your company's brands and their information",children:e.jsx(we,{className:"ml-2 text-blue-500"})})]}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:v,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:1e3,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,tip:"Loading...",children:e.jsxs(E,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(z,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(E.Item,{name:"title",label:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),e.jsx(B,{title:"This will be the main heading for the Our Concern section",children:e.jsx(_,{className:"ml-2 text-gray-400"})})]}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(O,{size:"large",placeholder:"e.g., Our Concerns",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(E.Item,{name:"description",label:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Description"}),e.jsx(B,{title:"This will appear below the section title as an introduction",children:e.jsx(_,{className:"ml-2 text-gray-400"})})]}),rules:[{required:!0,message:"Please enter the description"},{max:500,message:"Description should be less than 500 characters"}],children:e.jsx(te,{rows:4,placeholder:"Description about the concern section",className:"rounded-lg hover:border-blue-400 focus:border-blue-400",showCount:!0,maxLength:500})})]})}),e.jsx(z,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Brands"}),e.jsx(B,{title:"Add and manage all the brands under your company",children:e.jsx(_,{className:"ml-2 text-gray-400"})})]}),bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:T,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Brand"}),children:x.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:'No brands added yet. Click "Add Brand" to get started.'}):e.jsx(Q,{activeKey:$,onChange:r,className:"bg-white",expandIconPosition:"end",children:x.map(t=>{var n,l,a,o,m,b,N,M;return e.jsx(ze,{header:e.jsxs("div",{className:"flex items-center",children:[t.logo&&e.jsx("img",{src:t.logo,alt:"Brand logo",className:"w-6 h-6 object-contain mr-2"}),e.jsx("span",{className:"font-medium",children:t.name||"New Brand"}),!t.name&&e.jsx("span",{className:"text-red-500 ml-2",children:"(Please add a name)"})]}),extra:e.jsx(I,{danger:!0,type:"text",icon:e.jsx(G,{}),onClick:w=>{w.stopPropagation(),D(t.id)},size:"small"}),className:"mb-2 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"space-y-4 p-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand Name*"}),e.jsx(O,{value:t.name,onChange:w=>p(t.id,"name",w.target.value),placeholder:"e.g., Stech Solutions",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Slug",e.jsx(B,{title:"URL-friendly version of the name (lowercase, hyphens)",children:e.jsx(_,{className:"ml-1 text-gray-400"})})]}),e.jsx(O,{value:t.slug,onChange:w=>p(t.id,"slug",w.target.value),placeholder:"e.g., stech-solutions",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Banner Title",e.jsx(B,{title:"This will appear as the heading on the brand's page",children:e.jsx(_,{className:"ml-1 text-gray-400"})})]}),e.jsx(O,{value:t.banner_title,onChange:w=>p(t.id,"banner_title",w.target.value),placeholder:"e.g., Innovative Technology Solutions",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website URL"}),e.jsx(O,{value:t.site_url,onChange:w=>p(t.id,"site_url",w.target.value),placeholder:"e.g., https://stechsolutions.com",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Brand Logo*",e.jsx(B,{title:"Recommended size: 200x200px, transparent background",children:e.jsx(_,{className:"ml-1 text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...L("brandLogo",t.id),children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:t.logo?"Change Logo":"Upload Logo"})}),t.logo&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t.logo,alt:"Brand logo",className:"w-16 h-16 object-contain border border-gray-200 rounded"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded",children:e.jsx("span",{className:"text-white text-xs text-center p-1",children:"Click 'Change Logo' to update"})})]})]})]}),e.jsx(z,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Brand Details Section"}),e.jsx(B,{title:"This content will appear on the brand's dedicated page",children:e.jsx(_,{className:"ml-2 text-gray-400"})})]}),size:"small",className:"mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),e.jsx(O,{value:((n=t.sections)==null?void 0:n.title)||"",onChange:w=>p(t.id,"sections.title",w.target.value),placeholder:"e.g., About Our Brand",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description",e.jsx(B,{title:"Provide detailed information about this brand",children:e.jsx(_,{className:"ml-1 text-gray-400"})})]}),e.jsx(te,{rows:3,value:((l=t.sections)==null?void 0:l.text)||"",onChange:w=>p(t.id,"sections.text",w.target.value),placeholder:"Detailed description about the brand...",className:"rounded-lg hover:border-blue-400 focus:border-blue-400",showCount:!0,maxLength:1e3})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Background Image",e.jsx(B,{title:"Recommended size: 1200x600px, will be used as a background for the brand page",children:e.jsx(_,{className:"ml-1 text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...L("brandBackground",t.id),children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:(m=(o=(a=t.sections)==null?void 0:a.images)==null?void 0:o[0])!=null&&m.image?"Change Image":"Upload Image"})}),((M=(N=(b=t.sections)==null?void 0:b.images)==null?void 0:N[0])==null?void 0:M.image)&&e.jsxs("div",{className:"relative group w-32 h-20",children:[e.jsx("img",{src:t.sections.images[0].image,alt:"Brand background",className:"w-full h-full object-cover border border-gray-200 rounded"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded",children:e.jsx("span",{className:"text-white text-xs text-center p-1",children:"Click 'Change Image' to update"})})]})]})]})]})})]})},t.id)})})})]})})})},{TextArea:Re}=O,Ve=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1),[u,d]=h.useState([]),[x,y]=h.useState(!1),[$,C]=h.useState("");h.useEffect(()=>{s&&!x&&(F(),y(!0))},[s,x]);const F=async()=>{try{f(!0);const t=await fetch("http://localhost:8000/api/company-values/");if(!t.ok){if(t.status===404){U();return}throw new Error("Failed to fetch company values data")}const n=await t.json();n?(c.setFieldsValue({title:n.title||"",text:n.text||"",image:n.image||""}),C(n.image||""),d(n.values||[])):U()}catch(r){console.error("Error fetching company values data:",r),k.error("Failed to load company values data. Using default values."),U()}finally{f(!1)}},U=()=>{c.setFieldsValue({title:"The Core Company Values",text:"Everyone at Stech Group is honest and fair in our dealings with others. We keep our promises and stand by our commitments.",image:""}),C(""),d([{id:1,name:"INTEGRITY",valuenow:100},{id:2,name:"INNOVATION",valuenow:90}])},A=async r=>{const t=new FormData;t.append("image",r),t.append("category","company_values");try{S(!0);const l=await fetch("http://localhost:8000/api/images/",{method:"POST",body:t});if(!l.ok)throw new Error("Upload failed");const o=`${(await l.json()).image}`;return c.setFieldsValue({image:o}),C(o),o}catch(n){return console.error("Upload error:",n),k.error("Image upload failed"),null}finally{S(!1)}},L={name:"image",showUploadList:!1,customRequest:async({file:r,onSuccess:t,onError:n})=>{const l=await A(r);l?t(l,r):n(new Error("Upload failed"))},beforeUpload:r=>{const t=r.type.startsWith("image/");if(!t)return k.error("You can only upload image files!"),P.LIST_IGNORE;const n=r.size/1024/1024<5;return n?t&&n:(k.error("Image must be smaller than 5MB!"),P.LIST_IGNORE)}},T=()=>{const r={id:Date.now(),name:"",valuenow:50};d([...u,r])},D=r=>{d(u.filter(t=>t.id!==r))},p=(r,t,n)=>{const l=u.map(a=>a.id===r?{...a,[t]:t==="valuenow"?parseInt(n)||0:n}:a);d(l)},v=async()=>{try{const r=await c.validateFields(),t={title:r.title,text:r.text,image:r.image,values:u.map(a=>({name:a.name,valuenow:a.valuenow})).filter(a=>a.name)},l=await fetch("http://localhost:8000/api/company-values/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok){const a=await l.json();throw new Error(a.message||"Failed to save company values data")}q.fire({position:"top-end",icon:"success",title:"Company Values Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(r){console.error("Error saving company values data:",r),k.error(r.message||"Failed to update company values")}};return e.jsx(K,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Company Values Section"}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:v,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:800,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,children:e.jsxs(E,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(z,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(E.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(O,{size:"large",placeholder:"e.g., The Core Company Values",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(E.Item,{name:"text",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Description"}),rules:[{required:!0,message:"Please enter the description"}],children:e.jsx(Re,{rows:4,placeholder:"Description about company values",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(E.Item,{name:"image",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Background Image"}),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(P,{...L,children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),$&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Image:"}),e.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden max-w-xs",children:e.jsx(ke,{src:$,alt:"Current background",className:"w-full h-auto",preview:!1})})]})]})})]})}),e.jsx(z,{title:"Company Values",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:T,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Value"}),children:e.jsx(R,{dataSource:u,renderItem:r=>e.jsx(R.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsx("div",{className:"w-full space-y-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(O,{placeholder:"Value Name",value:r.name,onChange:t=>p(r.id,"name",t.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(O,{placeholder:"Percentage (0-100)",type:"number",min:0,max:100,value:r.valuenow,onChange:t=>p(r.id,"valuenow",t.target.value),className:"w-24 rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsx(Se,{percent:r.valuenow,strokeColor:"#1890ff",className:"flex-1"})]})]}),e.jsx(I,{danger:!0,icon:e.jsx(G,{}),onClick:()=>D(r.id),className:"ml-4"})]})})},r.id)})})]})})})},{TextArea:Ye}=O,_e=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1),[u,d]=h.useState([]),[x,y]=h.useState(!1),[$,C]=h.useState(!0);h.useEffect(()=>{s&&!x&&(F(),y(!0))},[s,x]);const F=async()=>{try{f(!0);const t=await fetch("http://localhost:8000/api/our-strength/");if(!t.ok){if(t.status===404){U();return}throw new Error("Failed to fetch strength data")}const n=await t.json();n?(c.setFieldsValue({title:n.title||"",description:Array.isArray(n.text)?n.text.join(`
`):n.text||"",videos:n.videos||""}),C(n.isActive!==!1),Array.isArray(n.text)?d(n.text.map((l,a)=>({id:a,text:l.startsWith("💠 ")?l:`💠 ${l}`}))):d([])):U()}catch(r){console.error("Error fetching strength data:",r),k.error("Failed to load strength data. Using default values."),U()}finally{f(!1)}},U=()=>{c.setFieldsValue({title:"Our Strength",description:["Highly Skilled Team","Comprehensive Solutions","Cost-Effective Services","Proactive Approach","Customer-Focused","High-Quality Standards"].join(`
`),videos:""}),d([{id:1,text:"💠 Highly Skilled Team"},{id:2,text:"💠 Comprehensive Solutions"},{id:3,text:"💠 Cost-Effective Services"},{id:4,text:"💠 Proactive Approach"},{id:5,text:"💠 Customer-Focused"},{id:6,text:"💠 High-Quality Standards"}]),C(!0)},A=async r=>{const t=new FormData;t.append("file",r),t.append("category","strength_media");try{S(!0);const l=await fetch("http://localhost:8000/api/images/",{method:"POST",body:t});if(!l.ok){const m=await l.json();throw new Error(m.message||"Upload failed")}const o=(await l.json()).url;return c.setFieldsValue({videos:o}),k.success("Media uploaded successfully"),o}catch(n){return console.error("Upload error:",n),k.error(`Media upload failed: ${n.message}`),null}finally{S(!1)}},L={name:"videos",showUploadList:!1,multiple:!1,accept:"image/*,video/*",customRequest:async({file:r,onSuccess:t,onError:n})=>{try{const l=await A(r);l?t(l,r):n(new Error("Upload failed"))}catch(l){n(l)}},beforeUpload:r=>r.type.startsWith("image/")||r.type.startsWith("video/")?r.size/1024/1024<10?!0:(k.error("File must be smaller than 10MB!"),P.LIST_IGNORE):(k.error("You can only upload image or video files!"),P.LIST_IGNORE),onChange(r){r.file.status==="error"&&k.error(`${r.file.name} file upload failed.`)}},T=()=>{const r={id:Date.now(),text:"💠 "};d([...u,r])},D=r=>{d(u.filter(t=>t.id!==r))},p=(r,t)=>{const n=t.startsWith("💠 ")?t:`💠 ${t}`,l=u.map(a=>a.id===r?{...a,text:n}:a);d(l)},v=async()=>{try{const r=await c.validateFields(),t={title:r.title,text:u.map(a=>a.text.replace(/^💠\s*/,"")),videos:r.videos,isActive:$},l=await fetch("http://localhost:8000/api/our-strength/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok){const a=await l.json();throw new Error(a.message||"Failed to save strength data")}q.fire({position:"top-end",icon:"success",title:"Strength Content Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(r){console.error("Error saving strength data:",r),k.error(r.message||"Failed to update strength section")}};return e.jsx(K,{title:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Our Strength Section"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:$?"Active":"Disabled"}),e.jsx(oe,{checked:$,onChange:C,checkedChildren:"ON",unCheckedChildren:"OFF"})]})]}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:v,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:800,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,children:e.jsxs(E,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(z,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(E.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(O,{size:"large",placeholder:"e.g., Our Strength",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsxs(E.Item,{name:"videos",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Video/Image URL"}),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...L,children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Video/Image"})}),e.jsx(O,{value:c.getFieldValue("videos"),onChange:r=>c.setFieldsValue({videos:r.target.value}),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})]}),c.getFieldValue("videos")&&e.jsx("div",{className:"mt-2",children:c.getFieldValue("videos").match(/\.(mp4|webm|ogg)$/i)?e.jsx("video",{src:c.getFieldValue("videos"),controls:!0,className:"max-w-full h-auto max-h-40"}):e.jsx("img",{src:c.getFieldValue("videos"),alt:"Media preview",className:"max-w-full h-auto max-h-40",onError:r=>{r.target.onerror=null,r.target.src="/placeholder-image.png"}})})]})]})}),e.jsx(z,{title:"Strengths List",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:T,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Strength"}),children:e.jsx(R,{dataSource:u,renderItem:r=>e.jsx(R.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsx(O,{placeholder:"Enter strength point",value:r.text,onChange:t=>p(r.id,t.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(I,{danger:!0,icon:e.jsx(G,{}),onClick:()=>D(r.id),className:"ml-4"})]})})},r.id)})})]})})})},{TextArea:ae}=O,He=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1),[u,d]=h.useState([]),[x,y]=h.useState(!1);h.useEffect(()=>{s&&!x&&($(),y(!0))},[s,x]);const $=async()=>{try{f(!0);const v=await fetch("http://localhost:8000/api/our-responsibility/");if(!v.ok){if(v.status===404){C();return}throw new Error("Failed to fetch our responsibility data")}const r=await v.json();r?(c.setFieldsValue({title:r.title||"",text:r.text||""}),d(r.features||[])):C()}catch(p){console.error("Error fetching our responsibility data:",p),k.error("Failed to load our responsibility data. Using default values."),C()}finally{f(!1)}},C=()=>{c.setFieldsValue({title:"Our Services",text:"At Stech Group, we offer a wide range of innovative services across the industries we serve. From overseas manpower recruitment to healthcare services, we leverage the latest advancements in AI technology and are supported by a highly skilled team. We strive to deliver exceptional solutions and services to our customers. Our unwavering commitment is to meet our customers' needs and consistently surpass their expectations, ensuring excellence in every endeavor."}),d([])},F=async(p,v)=>{const r=new FormData;r.append("image",p),r.append("category","responsibility_images");try{S(!0);const n=await fetch("http://localhost:8000/api/images/",{method:"POST",body:r});if(!n.ok)throw new Error("Upload failed");const a=`${(await n.json()).image}`,o=u.map(m=>m.id===v?{...m,image:a}:m);return d(o),a}catch(t){return console.error("Upload error:",t),k.error("Image upload failed"),null}finally{S(!1)}},U=p=>({name:"image",showUploadList:!1,customRequest:async({file:v,onSuccess:r,onError:t})=>{const n=await F(v,p);n?r(n,v):t(new Error("Upload failed"))},beforeUpload:v=>{const r=v.type.startsWith("image/");if(!r)return k.error("You can only upload image files!"),P.LIST_IGNORE;const t=v.size/1024/1024<5;return t?r&&t:(k.error("Image must be smaller than 5MB!"),P.LIST_IGNORE)}}),A=()=>{const p={id:Date.now(),image:"",primary_text:"",description:""};d([...u,p])},L=p=>{d(u.filter(v=>v.id!==p))},T=(p,v,r)=>{const t=u.map(n=>n.id===p?{...n,[v]:r}:n);d(t)},D=async()=>{try{const p=await c.validateFields(),v={title:p.title,text:p.text,features:u.map(n=>({image:n.image,primary_text:n.primary_text,description:n.description})).filter(n=>n.primary_text)},t=await fetch("http://localhost:8000/api/our-responsibility/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to save our responsibility data")}q.fire({position:"top-end",icon:"success",title:"Our Responsibility Content Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(p){console.error("Error saving our responsibility data:",p),k.error(p.message||"Failed to update our responsibility section")}};return e.jsx(K,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Our Responsibility Section"}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:D,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:1e3,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,children:e.jsxs(E,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(z,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(E.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(O,{size:"large",placeholder:"e.g., Our Responsibility",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(E.Item,{name:"text",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Description"}),rules:[{required:!0,message:"Please enter the description"}],children:e.jsx(ae,{rows:4,placeholder:"Description about the responsibility section",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]})}),e.jsx(z,{title:"Features",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:A,className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Feature"}),children:e.jsx(R,{dataSource:u,renderItem:p=>e.jsx(R.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(O,{placeholder:"Feature Title",value:p.primary_text,onChange:v=>T(p.id,"primary_text",v.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsx(ae,{placeholder:"Feature Description",value:p.description,onChange:v=>T(p.id,"description",v.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400",rows:2})]}),e.jsx(I,{danger:!0,icon:e.jsx(G,{}),onClick:()=>L(p.id),className:"ml-4"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Feature Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...U(p.id),children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),p.image&&e.jsx("div",{className:"relative w-16 h-16",children:e.jsx("img",{src:p.image,alt:"Feature image",className:"w-full h-full object-contain"})})]})]})]})},p.id)})})]})})})},{TextArea:se}=O,{Panel:re}=Q,qe=({isOpen:s,onClose:i})=>{const[c]=E.useForm(),[g,f]=h.useState(!1),[j,S]=h.useState(!1),[u,d]=h.useState([]),[x,y]=h.useState([]),[$,C]=h.useState(!1),F="http://localhost:8000/api";h.useEffect(()=>{s&&!$&&(U(),C(!0))},[s,$]);const U=async()=>{try{f(!0);const a=await fetch(`${F}/service-model/`);if(!a.ok){if(a.status===404){A();return}throw new Error("Failed to fetch services data")}const m=(await a.json()).services_section;c.setFieldsValue({title:m.title||"",text:m.text||""}),d(m.principles||[]),y(m.service_categories||[])}catch(a){console.error("Error fetching services data:",a),k.error("Failed to load services data. Using default values."),A()}finally{f(!1)}},A=()=>{c.setFieldsValue({title:"Our Services",text:"At Stech Group, we offer a wide range of innovative services across the industries we serve..."}),d([]),y([])},L=async(a,o,m=!0)=>{const b=new FormData;b.append("image",a),b.append("category",m?"principles":"service_categories");try{S(!0);const N=await fetch(`${F}/images/`,{method:"POST",body:b});if(!N.ok)throw new Error("Upload failed");const w=`${(await N.json()).image}`;if(m){const J=u.map(V=>V.id===o?{...V,image:w}:V);d(J)}else{const J=x.map(V=>V.id===o?{...V,logo:w}:V);y(J)}return w}catch(N){return console.error("Upload error:",N),k.error("Image upload failed"),null}finally{S(!1)}},T=(a,o=!0)=>({name:o?"principle_image":"service_logo",showUploadList:!1,customRequest:async({file:m,onSuccess:b,onError:N})=>{const M=await L(m,a,o);M?b(M,m):N(new Error("Upload failed"))},beforeUpload:m=>{const b=m.type.startsWith("image/");if(!b)return k.error("You can only upload image files!"),P.LIST_IGNORE;const N=m.size/1024/1024<5;return N?b&&N:(k.error("Image must be smaller than 5MB!"),P.LIST_IGNORE)}}),D=()=>{const a={id:Date.now(),primary_text:"",description:"",image:""};d([...u,a])},p=a=>{d(u.filter(o=>o.id!==a))},v=(a,o,m)=>{const b=u.map(N=>N.id===a?{...N,[o]:m}:N);d(b)},r=()=>{const a={id:Date.now(),title:"",text:"",logo:""};y([...x,a])},t=a=>{y(x.filter(o=>o.id!==a))},n=(a,o,m)=>{const b=x.map(N=>N.id===a?{...N,[o]:m}:N);y(b)},l=async()=>{try{const a=await c.validateFields(),o={services_section:{title:a.title,text:a.text,principles:u.map(b=>({primary_text:b.primary_text,description:b.description,image:b.image})).filter(b=>b.primary_text&&b.description&&b.image),service_categories:x.map(b=>({title:b.title,text:b.text,logo:b.logo})).filter(b=>b.title&&b.text&&b.logo)}},m=await fetch(`${F}/service-model/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!m.ok){const b=await m.json();throw new Error(b.message||"Failed to save services data")}q.fire({position:"top-end",icon:"success",title:"Services Content Updated Successfully",showConfirmButton:!1,timer:3e3}),i()}catch(a){console.error("Error saving services data:",a),k.error(a.message||"Failed to update services section")}};return e.jsx(K,{title:e.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Edit Services Section"}),open:s,onCancel:i,footer:[e.jsx(I,{onClick:i,className:"px-6 h-10 rounded-lg border-gray-300 hover:bg-gray-100",children:"Cancel"},"back"),e.jsx(I,{type:"primary",onClick:l,loading:g,className:"px-6 h-10 rounded-lg bg-blue-600 hover:bg-blue-700",children:"Save Changes"},"submit")],width:1e3,className:"rounded-lg overflow-hidden",styles:{body:{padding:"24px"}},destroyOnClose:!0,children:e.jsx(X,{spinning:g,children:e.jsxs(E,{form:c,layout:"vertical",className:"space-y-6",children:[e.jsx(z,{title:"Main Content",bordered:!1,className:"rounded-lg shadow-sm border-0",headStyle:{background:"linear-gradient(90deg, #f8f9fa 0%, #ffffff 100%)",borderBottom:"1px solid #e8e8e8"},children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(E.Item,{name:"title",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Section Title"}),rules:[{required:!0,message:"Please enter the title"}],children:e.jsx(O,{size:"large",placeholder:"e.g., Our Services",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})}),e.jsx(E.Item,{name:"text",label:e.jsx("span",{className:"font-medium text-gray-700",children:"Description"}),rules:[{required:!0,message:"Please enter the description"}],children:e.jsx(se,{rows:4,placeholder:"Description about the services section",className:"rounded-lg hover:border-blue-400 focus:border-blue-400"})})]})}),e.jsxs(Q,{defaultActiveKey:["1","2"],className:"bg-white rounded-lg shadow-sm",children:[e.jsx(re,{header:"Our Principles",extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:D,size:"small",className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Principle"}),children:e.jsx(R,{dataSource:u,renderItem:a=>e.jsx(R.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(O,{placeholder:"Principle Title",value:a.primary_text,onChange:o=>v(a.id,"primary_text",o.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsx(se,{placeholder:"Principle Description",value:a.description,onChange:o=>v(a.id,"description",o.target.value),rows:3,className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...T(a.id,!0),children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Image"})}),a.image&&e.jsx("div",{className:"relative w-24 h-24",children:e.jsx("img",{src:a.image,alt:"Principle",className:"w-full h-full object-cover rounded-lg"})})]})]}),e.jsx(I,{danger:!0,icon:e.jsx(G,{}),onClick:()=>p(a.id)})]})})},a.id)})},"1"),e.jsx(re,{header:"Service Categories",extra:e.jsx(I,{type:"primary",icon:e.jsx(Y,{}),onClick:r,size:"small",className:"flex items-center bg-blue-600 hover:bg-blue-700",children:"Add Category"}),children:e.jsx(R,{dataSource:x,renderItem:a=>e.jsx(R.Item,{className:"p-4 border-b border-gray-200 last:border-b-0",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(O,{placeholder:"Category Title",value:a.title,onChange:o=>n(a.id,"title",o.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsx(O,{placeholder:"Category Description",value:a.text,onChange:o=>n(a.id,"text",o.target.value),className:"rounded-lg hover:border-blue-400 focus:border-blue-400"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{...T(a.id,!1),children:e.jsx(I,{icon:e.jsx(W,{}),loading:j,className:"h-10 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Upload Logo"})}),a.logo&&e.jsx("div",{className:"relative w-16 h-16",children:e.jsx("img",{src:a.logo,alt:"Service category",className:"w-full h-full object-contain"})})]})]}),e.jsx(I,{danger:!0,icon:e.jsx(G,{}),onClick:()=>t(a.id)})]})})},a.id)})},"2")]})]})})})},Ke=({getDivider:s,availableShapes:i})=>{const[c,g]=h.useState(!1),[f,j]=h.useState(!1),[S,u]=h.useState(!1),[d,x]=h.useState(!1),[y,$]=h.useState(!1),[C,F]=h.useState(!1),[U,A]=h.useState(!1),[L,T]=h.useState(!1),[D,p]=h.useState(!1),[v,r]=h.useState(!1),[t,n]=h.useState(!1),[l,a]=h.useState(!1),[o,m]=h.useState(!1),[b,N]=h.useState(!1),[M,w]=h.useState(!1),[J,V]=h.useState(!1);return e.jsxs("div",{className:"flex gap-40 items-start justify-between p-20 w-[1300px]",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-28 font-bold text-center",children:[e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>u(!0),children:"Hero"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>g(!0),children:"Description"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>T(!0),children:"Our Clients"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>a(!0),children:"Our Concern"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>m(!0),children:"Company Values"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>N(!0),children:"Our Strength"}),e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>w(!0),children:"Our Services"})]}),e.jsx("div",{className:"mockup-browser bg-white border-8 border-black p-2 h-[1000px] overflow-y-scroll",children:e.jsxs("div",{children:[e.jsx("div",{className:"mockup-browser-toolbar m-10",children:e.jsx("div",{className:"input",children:"https://sample-website.com"})}),e.jsx("div",{className:"overflow-scroll",children:e.jsx(Ne,{context:{getDivider:s,availableShapes:i}})})]})}),e.jsx(Ce,{isOpen:c,onClose:()=>g(!1)}),e.jsx(Ae,{isOpen:S,onClose:()=>u(!1)}),e.jsx(Ie,{isOpen:L,onClose:()=>T(!1)}),e.jsx(Be,{isOpen:l,onClose:()=>a(!1)}),e.jsx(Ve,{isOpen:o,onClose:()=>m(!1)}),e.jsx(_e,{isOpen:b,onClose:()=>N(!1)}),e.jsx(qe,{isOpen:M,onClose:()=>w(!1)}),e.jsx(He,{isOpen:J,onClose:()=>V(!1)})]})};export{Ke as default};
//# sourceMappingURL=HomeEditor-FvpWJ2-N.js.map
