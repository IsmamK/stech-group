import{z as o,r as t,j as e,M as O,S as C,B as k,E as x,N as P,I as N,$ as y,O as D,G as A,A as H,X as E}from"./index-CBHbDdlb.js";const{TextArea:G}=N,s={primary:"#7bbf42",primaryDark:"#5a9e2d",accent:"#70308c",textDark:"#040404",textLight:"#ffffff",border:"#e0e0e0"},I=({isOpen:n,onClose:d})=>{const[l]=o.useForm(),[b,j]=t.useState(!1),[m,u]=t.useState(!1),i="http://localhost:8000/api",S=["Healthcare","Education","Logistics","Commercial","Government","Retail","Hospitality","Manufacturing"];t.useEffect(()=>{(async()=>{if(n){j(!0);try{const r=await fetch(`${i}/projects/`);if(!r.ok)throw new Error("Failed to fetch data");const h=await r.json();l.setFieldsValue({projects:h})}catch(r){console.error("Error fetching projects:",r),l.setFieldsValue({projects:[{id:1,title:"Riyadh Hospital FM",industry:"Healthcare",scope:["24/7 facility maintenance","HVAC system optimization","Professional cleaning services"],outcomes:["30% operational cost reduction","Zero critical system downtime"]}]})}finally{j(!1)}}})()},[n,i,l]);const v=async()=>{u(!0);try{const a=await l.validateFields();if(!(await fetch(`${i}/projects/`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.projects)})).ok)throw new Error("Failed to save");A.fire({position:"top-end",icon:"success",title:"Projects Updated Successfully",showConfirmButton:!1,timer:3e3}),d()}catch(a){H.error("Failed to save changes"),console.error(a)}finally{u(!1)}};return e.jsx(O,{title:e.jsx("span",{className:"text-2xl font-bold",style:{color:s.primaryDark},children:"Manage Projects"}),open:n,onCancel:d,width:900,footer:[e.jsx(x,{onClick:d,disabled:m,className:"h-10 px-6 rounded-lg",style:{borderColor:s.primary,color:s.primary},children:"Cancel"},"cancel"),e.jsx(x,{type:"primary",onClick:v,loading:m,className:"h-10 px-6 rounded-lg font-medium",style:{backgroundColor:s.primary,borderColor:s.primaryDark,color:s.textLight},children:m?"Saving...":"Save Changes"},"save")],destroyOnClose:!0,className:"rounded-xl overflow-hidden",bodyStyle:{padding:0},children:e.jsx(C,{spinning:b,children:e.jsx(o,{form:l,layout:"vertical",children:e.jsx("div",{className:"p-6",children:e.jsx(k,{title:"Featured Projects",bordered:!1,className:"rounded-xl",headStyle:{background:`linear-gradient(90deg, ${s.primary}20, ${s.accent}20)`,borderBottom:`1px solid ${s.border}`,fontSize:"18px",fontWeight:"600",color:s.primaryDark},bodyStyle:{padding:"24px"},children:e.jsx(o.List,{name:"projects",children:(a,{add:r,remove:h})=>e.jsxs("div",{className:"space-y-6",children:[a.map(({key:w,name:c,...p},g)=>e.jsxs("div",{className:"border rounded-xl p-6 hover:shadow-md transition-all",style:{borderColor:s.border,background:g%2===0?"#f9f9f9":"white"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"font-bold text-lg",style:{color:s.primary},children:["Project ",g+1]}),e.jsx(x,{danger:!0,type:"text",icon:e.jsx(P,{}),onClick:()=>h(c),style:{color:"#ff4d4f"},children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o.Item,{...p,name:[c,"title"],label:e.jsx("span",{className:"font-medium",style:{color:s.textDark},children:"Project Title"}),rules:[{required:!0,message:"Please enter project title"}],children:e.jsx(N,{placeholder:"Riyadh Hospital FM",className:"rounded-lg h-10",style:{borderColor:s.border}})}),e.jsx(o.Item,{...p,name:[c,"industry"],label:e.jsx("span",{className:"font-medium",style:{color:s.textDark},children:"Industry"}),rules:[{required:!0,message:"Please select industry"}],children:e.jsx(y,{placeholder:"Select industry",className:"rounded-lg h-10",style:{width:"100%"},children:S.map(f=>e.jsx(y.Option,{value:f,children:f},f))})})]}),e.jsxs("div",{children:[e.jsx(o.Item,{...p,name:[c,"scope"],label:e.jsx("span",{className:"font-medium",style:{color:s.textDark},children:"Scope of Work"}),rules:[{required:!0,message:"Please add at least one scope item"}],children:e.jsx(y,{mode:"tags",placeholder:"Add scope items",className:"rounded-lg",style:{width:"100%"},tokenSeparators:[","]})}),e.jsx(o.Item,{...p,name:[c,"outcomes"],label:e.jsx("span",{className:"font-medium",style:{color:s.textDark},children:"Key Outcomes"}),rules:[{required:!0,message:"Please add at least one outcome"}],children:e.jsx(y,{mode:"tags",placeholder:"Add outcome items",className:"rounded-lg",style:{width:"100%"},tokenSeparators:[","]})})]})]})]},w)),e.jsx(x,{type:"dashed",onClick:()=>r({title:"",industry:"",scope:[],outcomes:[]}),icon:e.jsx(D,{}),block:!0,className:"h-12 rounded-xl mt-4 flex items-center justify-center",style:{borderColor:s.primary,color:s.primaryDark,fontWeight:"500",fontSize:"16px"},children:"Add New Project"})]})})})})})})})},T=({getDivider:n,availableShapes:d})=>{const[l,b]=t.useState(!1),[j,m]=t.useState(!1),[u,i]=t.useState(!1),[S,v]=t.useState(!1),[a,r]=t.useState(!1),[h,w]=t.useState(!1),[c,p]=t.useState(!1),[g,f]=t.useState(!1),[F,L]=t.useState(!1),[M,R]=t.useState(!1),[$,W]=t.useState(!1),[q,z]=t.useState(!1);return e.jsxs("div",{className:"flex gap-40 items-start justify-between p-20 w-[1300px]",children:[e.jsx("div",{className:"grid grid-cols-2 gap-28 font-bold text-center",children:e.jsx("button",{className:"btn btn-primary w-20 m-2",onClick:()=>i(!0),children:"Our Projects"})}),e.jsx("div",{className:"mockup-browser bg-white border-8 border-black p-2 h-[1000px] overflow-y-scroll",children:e.jsxs("div",{children:[e.jsx("div",{className:"mockup-browser-toolbar m-10",children:e.jsx("div",{className:"input",children:"https://sample-website.com"})}),e.jsx("div",{className:"overflow-scroll",children:e.jsx(E,{context:{getDivider:n,availableShapes:d}})})]})}),e.jsx(I,{isOpen:u,onClose:()=>i(!1)})]})};export{T as default};
//# sourceMappingURL=ProjectsEditor-Cz0dpQ6X.js.map
