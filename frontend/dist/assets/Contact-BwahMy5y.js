import{r as s,j as e,a5 as S,a7 as C}from"./index-CBHbDdlb.js";function P(){const[l,g]=s.useState(null),[N,v]=s.useState(!0),[o,b]=s.useState(null),[y,w]=s.useState([]),[c,i]=s.useState(""),[d,u]=s.useState(""),[m,h]=s.useState(""),[x,j]=s.useState("1"),[f,p]=s.useState("");s.useEffect(()=>{const t=async()=>{try{const a=await fetch("http://localhost:8000/api/contact/contact1/");if(!a.ok)throw new Error("Failed to fetch page data");const n=await a.json();g(n)}catch(a){b(a.message)}finally{v(!1)}},r=async()=>{try{const a=await fetch("api/country");if(!a.ok)throw new Error("Failed to fetch countries");const n=await a.json();w(n)}catch(a){console.error("Error fetching countries:",a)}};t(),r()},[]);const E=async t=>{t.preventDefault();try{const r=await fetch("api/contact-us",{method:"POST",body:JSON.stringify({full_name:c,email:d,phone:m,country:x,description:f}),headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to submit form");const a=await r.json();i(""),u(""),h(""),j("1"),p(""),alert("Thank you for contacting us. We will get back to you soon.")}catch(r){alert("There was an error submitting your form. Please try again."),console.error(r)}};return N?e.jsx("div",{children:"Loading..."}):o?e.jsxs("div",{children:["Error: ",o]}):l?e.jsxs(e.Fragment,{children:[e.jsx(S,{title:l.title,text:l.text,home:!0}),e.jsx("section",{className:"contacts",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row g-0",children:e.jsx("div",{className:"col-lg-8 col-12 mx-lg-auto p-0",children:e.jsxs("form",{onSubmit:E,className:"contactform px-2 px-lg-0",children:[e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-lg-6 col-12",children:e.jsxs("div",{className:"inputbox",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Enter Full Name"}),e.jsx("input",{value:c,type:"text",className:"form-control",id:"name",onChange:t=>i(t.target.value),required:!0})]})}),e.jsx("div",{className:"col-lg-6 col-12",children:e.jsxs("div",{className:"inputbox",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Enter Email Address"}),e.jsx("input",{value:d,onChange:t=>u(t.target.value),type:"email",className:"form-control",id:"email",required:!0})]})})]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-lg-6 col-12",children:e.jsxs("div",{className:"inputbox",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:"Enter Phone Number"}),e.jsx("input",{value:m,onChange:t=>h(t.target.value),type:"tel",className:"form-control",id:"phone",required:!0})]})}),e.jsx("div",{className:"col-lg-6 col-12",children:e.jsxs("div",{className:"inputbox",children:[e.jsx("label",{htmlFor:"country",className:"form-label",children:"Select Your Country"}),e.jsx("select",{value:x,onChange:t=>j(t.target.value),className:"form-select",id:"country",required:!0,children:y.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]})})]}),e.jsx("div",{className:"row g-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"inputbox",children:[e.jsx("label",{htmlFor:"projectdetails",className:"form-label",children:"Project Details"}),e.jsx("textarea",{value:f,onChange:t=>p(t.target.value),className:"textarea",id:"projectdetails",rows:7,required:!0})]})})}),e.jsx("div",{className:"row g-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"d-flex justify-content-end w-100",children:e.jsx("button",{className:"btn-submit",type:"submit",children:"Contact Us"})})})})]})})})})}),l.sections&&l.sections.map(t=>t.slug==="contact-us"?e.jsx(C,{data:t},t.id):null)]}):e.jsx("div",{children:"No data found"})}export{P as default};
//# sourceMappingURL=Contact-BwahMy5y.js.map
